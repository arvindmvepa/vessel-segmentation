exp:
  job_cls: DriveJob
  WRK_DIR_PATH: C:\Users\arvin\dev\vessel-segmentation\DRIVE
  EXPERIMENTS_DIR_PATH: C:\Users\arvin\dev\vessel-segmentation\drive_job
  job_func: run_single_model
  metrics_epoch_freq: 1
  viz_layer_epoch_freq: null
  num_files: 40

optimization:
  op_fun_and_kwargs:
  - !!python/tuple
    - adam
    - {}
  - !!python/tuple
    - rmsprop
    - {}
  - !!python/tuple
    - grad
    - {}
  tuning_constant:
  - .5
  - 1.0
  - 1.5
  - 2.0
  ss_r: null
  objective_fn: wce
  regularizer_args: None
  learning_rate_and_kwargs:
  - !!python/tuple
    - .001
    - {}
  - !!python/tuple
    - .01
    - {}
  - !!python/tuple
    - .0001
    - {}
  n_epochs: 2

layer_args:
  weight_init: He
  act_fns:
  - relu
  - lrelu
  - elu
  - maxout
  act_leak_probs:
  - 0.2
  - 0.5
  - 0.7
  batch_norm:
  - true
  - false
  dp_rate:
  - 0.0
  - 0.2
  - 0.4
  - 0.6
  - 0.8
  center:
  - true
  - false
  pooling_method:
  - AVG
  - MAX
  unpooling_method:
  - bilinear
  - nearest_neighbor
  - bicubic
  last_layer_op:
  - AVG
  - MAX
  - CONV
  - null
  num_prev_last_conv_output_channels:
  - 1
  - 5
  - 50
  add_decoder_layers_map:
  - None
  - {up_8: [{type: convt, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: true,
             name: convt_8_0_1, act_fn: relu},
            {type: convt, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: True, name: convt_8_0_2,
             act_fn: relu},
            {type: convt, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: True,
             name: convt_8_0_3, act_fn: relu},
            {type: conv, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: True,
             name: convt_8_0_4, act_fn: relu}]}
  - {up_8: [{type: conv, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: True, name: convt_8_0_1,
             act_fn: relu},
            {type: conv, kernel_size: 3, dilation: 1, output_channels: 64, "batch_norm": True, name: convt_8_0_2,
             act_fn: relu}]}
  - {convt_5_2: [{type: conv, kernel_size: 7, dilation: 1, output_channels: 256, batch_norm: batch_norm,
                  act_fn: relu, name: convt_5_2_0}],
     "convt_6_2": [{type: conv, kernel_size: 3, dilation: 1, output_channels: 128, batch_norm: batch_norm,
                    act_fn: relu, name: convt_6_2_0}],
     "convt_7_1": [{type: conv, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: batch_norm,
                    act_fn: relu, name: convt_7_1_0}],
     "up_8": [{type: conv, kernel_size: 3, dilation: 1, output_channels: 64, batch_norm: True, name: convt_8_0_1,
               act_fn: relu}]}

  remove_decoder_layers_names:
  - None
  - !!python/tuple
    - convt_5_1
    - convt_6_1
  layer_params:
  - {convt_8_1: {center: false}}
  - {convt_8_1: {center: false}}
  - {convt_8_1: {center: false}}
  - {convt_8_1: {center: false}}
  - {up_6: {add_to_input: None},
     up_7: {add_to_input: None},
     up_8: {add_to_input: None},
     convt_8_1: {center: false}}
  - {up_6: {add_to_input: None},
     up_7: {add_to_input: None},
     up_8: {add_to_input: None},
     convt_6_1: {add_to_input: conv_3_2},
     convt_7_1: {add_to_input: conv_2_1},
     convt_8_1: {add_to_input: conv_1_1, center: false}}
  - {convt_5_1: {add_to_input: conv_4_2},
     convt_5_2: {add_to_input: conv_4_1},
     convt_6_1: {add_to_input: conv_3_2},
     convt_6_2: {add_to_input: conv_3_1},
     convt_7_1: {add_to_input: conv_2_1},
     convt_8_1: {add_to_input: conv_1_1, center: false}}
  - {up_6: {add_to_input: None, concat_to_input: pool_3},
     up_7: {add_to_input: None, concat_to_input: pool_2},
     up_8: {add_to_input: None, concat_to_input: pool_1},
     convt_8_1: {center: false}}
  - {up_6: {add_to_input: None},
     up_7: {add_to_input: None},
     up_8: {add_to_input: None},
     convt_6_1: {concat_to_input: conv_3_2},
     convt_7_1: {concat_to_input: conv_2_1},
     convt_8_1: {concat_to_input: conv_1_1, center: false}}
  - {up_6: {add_to_input: None, concat_to_input: pool_3},
     up_7: {add_to_input: None, concat_to_input: pool_2},
     up_8: {add_to_input: None, concat_to_input: pool_1},
     convt_5_1: {concat_to_input: conv_4_2},
     convt_5_2: {concat_to_input: conv_4_1},
     convt_6_1: {concat_to_input: conv_3_2},
     convt_6_2: {concat_to_input: conv_3_1},
     convt_7_1: {concat_to_input: conv_2_1},
     convt_8_1: {concat_to_input: conv_1_1, center: false}}

image_preproc:
  hist_eq: false
  clahe_kwargs: null
  per_image_normalization: false
  gamma: 1.0
  seq: null
  zero_center:
  - true
  - false
  zero_center_scale:
  - true
  - false
  z_score_norm:
  - true
  - false

# not extensively looking at dilation and some of the layer params due to not coding expanding the parameter space for
# layer_params
# probably want to incorporate dependencies
# have to look at the use cases more carefully
# also not incorporating per image testing